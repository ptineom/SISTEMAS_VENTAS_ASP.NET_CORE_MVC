"use strict";var oMain={init:function(){$("#sidebar").mCustomScrollbar({theme:"minimal"});Array.from(document.querySelectorAll(".sidebar-expandir")).forEach(n=>{n.addEventListener("click",()=>{document.getElementById("sidebar").classList.toggle("active"),document.getElementById("content").classList.toggle("active")})});Array.from(document.querySelectorAll('#sidebar-menu li a[data-flgFormulario="True"]')).forEach(n=>{n.addEventListener("click",n=>{let t=n.currentTarget;sessionStorage.setItem("breadcrumb",t.getAttribute("data-breadcrumb"));window.location.href=t.getAttribute("data-route")})});Array.from(document.querySelectorAll('#sidebar-menu li a[data-bs-toggle="collapse"] + ul')).forEach(n=>{n.addEventListener("shown.bs.collapse",n=>{Array.from(document.querySelectorAll("#sidebar-menu li a[aria-expanded=true")).forEach(n=>{n.setAttribute("aria-expanded",!1),n.classList.add("collapsed"),n.nextElementSibling.classList.remove("show")});let t=n.target.previousElementSibling,i=t.getAttribute("data-breadcrumb"),r=i.split(",");r.forEach(n=>{let i=n.split("|")[0],t=document.querySelector(`#sidebar-menu li a[data-id="${i}"`);t.parentElement.classList.contains("treeview")&&(t.setAttribute("aria-expanded",!0),t.classList.remove("collapsed"),t.nextElementSibling.classList.add("show"))})})});document.getElementById("btnCerrarSesion").addEventListener("click",n=>{n.preventDefault(),sessionStorage.getItem("breadcrumb")!=null&&sessionStorage.removeItem("breadcrumb"),window.location.href="/Login/IdentitySignOn"});oMain.showComponentsLayout();axios.interceptors.request.use(function(n){return n},function(n){return Promise.reject(n)});let n=document.getElementById("btnAperturarCaja");n.addEventListener("click",()=>{oModalCajaApertura.show().then(()=>{}).catch(()=>{})});oModalCajaApertura.verificarEstadoCaja().then(t=>{t?(n.classList.remove("btn-warning"),n.classList.add("btn-success"),n.querySelector("i").classList.remove("bi-lock"),n.querySelector("i").classList.add("bi-unlock")):(n.classList.remove("btn-success"),n.classList.add("btn-warning"),n.querySelector("i").classList.remove("bi-unlock"),n.querySelector("i").classList.add("bi-lock"))}).catch(n=>{oAlerta.alerta({title:n,type:"warning"})})},showComponentsLayout:function(){let i=sessionStorage.getItem("breadcrumb");if(i!=null){let n=i.split(","),r="",u=n.length;for(var t=0;t<u;t++){let f=n[t].split("|")[0],e=n[t].split("|")[1];r+=`<li class='breadcrumb-item ${t+1==u?"active":""}'><a href='#'>${e}</a></li>`;let i=document.querySelector(`#sidebar-menu li a[data-id="${f}"]`),o=i.parentElement;o.classList.contains("treeview")&&(i.setAttribute("aria-expanded",!0),i.nextElementSibling.classList.add("show"))}document.getElementById("breadcrumb").innerHTML=r;let f=n[n.length-1].split("|")[1];document.getElementById("bc-titulo").textContent=f}}};document.addEventListener("DOMContentLoaded",oMain.init);